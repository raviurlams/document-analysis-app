<div class="container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Upload Document</mat-card-title>
      <mat-card-subtitle>Supported formats: PDF, JPEG, PNG, TXT</mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <div class="upload-area" (click)="triggerFileInput()">
        <input 
          #fileInput
          type="file" 
          (change)="onFileSelected($event)"
          accept=".pdf,.jpg,.jpeg,.png,.txt"
          hidden>
        
        <mat-icon class="upload-icon">cloud_upload</mat-icon>
        
        <div *ngIf="!selectedFile; else fileSelected">
          <p>Click to select a file or drag and drop</p>
          <p class="file-types">PDF, JPG, PNG, TXT</p>
        </div>
        
        <ng-template #fileSelected>
          <p>Selected file: {{ selectedFile?.name }}</p>
          <p class="file-size" *ngIf="selectedFile">{{ formatFileSize(selectedFile.size) }}</p>
          <p class="file-type" *ngIf="selectedFile">Type: {{ selectedFile.type }}</p>
        </ng-template>
      </div>

      <!-- Debug info (can be removed in production) -->
      <div class="debug-info" *ngIf="selectedFile">
        <p><strong>Debug Info:</strong></p>
        <p>File name: {{ selectedFile.name }}</p>
        <p>File size: {{ selectedFile.size }} bytes</p>
        <p>File type: {{ selectedFile.type }}</p>
        <p>Last modified: {{ selectedFile.lastModified | date:'medium' }}</p>
      </div>
    </mat-card-content>
    
    <mat-card-actions>
      <button 
        mat-raised-button 
        color="primary" 
        (click)="uploadDocument()" 
        [disabled]="!selectedFile || isLoading()">
        <mat-icon>cloud_upload</mat-icon>
        Upload Document
      </button>
      
      <button 
        mat-button 
        (click)="triggerFileInput()"
        [disabled]="isLoading()">
        <mat-icon>folder_open</mat-icon>
        Select Different File
      </button>

      <button 
        mat-button 
        color="warn" 
        (click)="clearFileSelection()"
        [disabled]="!selectedFile">
        <mat-icon>cancel</mat-icon>
        Clear Selection
      </button>
    </mat-card-actions>
  </mat-card>
</div>