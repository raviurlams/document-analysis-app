<mat-toolbar color="primary" *ngIf="isAuthenticated()">
  <button mat-icon-button (click)="toggleSidenav()" *ngIf="isAuthenticated()">
    <mat-icon>menu</mat-icon>
  </button>
  <span>Document Analysis</span>
  <span class="spacer"></span>

  <div *ngIf="isAuthenticated()" class="user-info">
    <span class="hidden-mobile">Welcome, {{ currentUser()?.name }}</span>
    <button mat-button (click)="logout()">
      <mat-icon>logout</mat-icon> <span class="hidden-mobile">Logout</span>
    </button>
  </div>
</mat-toolbar>

<mat-sidenav-container *ngIf="isAuthenticated()">
  <mat-sidenav #sidenav opened="false">
    <mat-nav-list>
      <a mat-list-item routerLink="/document-analysis" routerLinkActive="active" (click)="sidenav.close()">
        <mat-icon>description</mat-icon> Documents
      </a>
      <a mat-list-item routerLink="/document-analysis/upload" routerLinkActive="active" (click)="sidenav.close()">
        <mat-icon>cloud_upload</mat-icon> Upload
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content *ngIf="isAuthenticated()">
    <div class="content-container">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>

<div *ngIf="!isAuthenticated()">
  <router-outlet></router-outlet>
</div>

<div class="loading-overlay" *ngIf="isLoading()">
  <mat-spinner diameter="50"></mat-spinner>
</div>